<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/tailwind/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Wildlife</title>
    <link rel="icon" href="../fav.io/android-chrome-192x192.png"
      type="image/x-icon">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Play&display=swap"
      rel="stylesheet">
    <link href='../css/Wildlife .css' rel='stylesheet'>
    <script src="//unpkg.com/alpinejs" defer></script>
    <link rel="manifest" href="manifest.json">
    <script src="HOME.js"></script>
    <main>

    </main>
  </head>
  <body>

    <section class="grid-container">
      <img src="../img/peacock on tree.jpg" alt="Wallpaper" class="responsive">

      <nav id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn"
          onclick="closeNav()">&times;</a>
        <a href="index.html">Home</a>
        <a href="Wildlife.html">Wild Life</a>
        <a href="Srilankan_Leopard.html">Leopard</a>
        <a href="conservation.html">Conservation</a>
        <a href="Destinations.html">Destinations</a>
        <a href="Yala_national_Park.html">Yala National Park</a>
        <a href="Willpattu_National_Park.html">Wilpattu National park</a>
        <a href="Contact_Us.html">Login</a>
      </nav>
      <nav class="top-right">
        <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;
        </span>
      </nav>

      <nav id="myTopnav">
        <ul>
          <li><a class="navw" href="index.html">Home</a></li>
          <li class="dropdown">
            <a class="navw" href="Wildlife.html">Wild Life</a>
            <ul class="dropdown-content">
              <li><a class="navw" href="Srilankan_Leopard.html">Leopard</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a class="navw" href="Destinations.html">Destinations</a>
            <ul class="dropdown-content">
              <li><a href="Yala_national_Park.html" class="navw">Yala National
                  Park</a></li>
              <li><a href="Willpattu_National_Park.html" class="navw">Wilpattu
                  National park</a></li>
            </ul>
          </li>
          <li><a class="navw" href="conservation.html">Conservation</a></li>

          <li><a class="navw" href="Contact_Us.html">Login</a></li>
        </ul>
      </nav>
      <figure class="logo">
        <img src="../img/logo.png" alt="Logo ">
      </figure>
      <header></section>
    </header>
    <style>
      .popup-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          backdrop-filter: blur(5px); /* Apply blur effect */
          display: none;
          justify-content: center;
          align-items: center;
          z-index: 9999;
      }
      
      .popup-content {
          background-color:#b5bc76bd;
          padding: 20px;
          border-radius: 5px;
          box-shadow: 0 10px 10px rgba(0, 0, 0, 0.3);
          max-width: 100%;
          overflow: auto;
          max-height: 80vh; 
          overflow-y: auto;
      }
      
      .close-btn {
          position: absolute;
          top: 10px;
          right: 10px;
          cursor: pointer;
      }
  </style>
    <div x-data="wildlife">

      <h2 x-text="maintitle" class="headname"></h2><!--maintitle-->

      <h3><p x-html="intro" class="introduction">
        </p></h3><!--Introduction-->

      <h2 x-text="topic1"> </h2><!--Topic1-->
      <br>
      <article class="paragraph">

        <p x-html="description1">
        </p><!--description1-->

        <ol>
          <template x-for="(item, index) in list1" :key="index">
            <li x-html="item"></li>
          </template>
        </ol>

        <img src="../img/leopard resting on a tree.jpg" alt="leopard resting">
      </article>

      <h2 x-text="topic2" class="subtitle"></h2><!--Topic2-->
      <article class="paragraph">
        <p x-html="description2">
        </p><!--description2-->
        <ul>
          <template x-for="(item, index) in list2" :key="index">
            <li x-html="item"></li>
          </template>
        </ul>

        <img src="../img/infant elephant playing with older elephant.png"
          alt="Infant baby deer been fed">

      </article>

      <h2 x-text="topic3"></h2><!--Topic3-->
      <article class="paragraph">
        <p x-html="description3">
        </p><!--description3-->

        <ul>
          <template x-for="(item, index) in list3" :key="index">
            <li x-html="item"></li>
          </template>
        </ul>
        <img src="../img/MONKE.jpg" alt="indigenous monkey">

      </article>

      <h2 x-text="topic4"></h2><!--Topic4-->
      <article class="paragraph">
        <p x-html="description4">
        </p><!--description4-->

        <ul>
          <template x-for="(item, index) in list4" :key="index">
            <li x-html="item"></li>
          </template>
        </ul>

        <img src="../img/axis muwa.jpg" alt="Axis deer">

      </article>

      <h2 x-text="topic5"></h2><!--Topic5-->
      <article class="paragraph">
        <p x-html="description5">

        </p><!--description5-->

        <ul>
          <template x-for="(item, index) in list5" :key="index">
            <li x-html="item"></li>
          </template>
        </ul>

        <img src="../img/blue magpie.jpeg" alt="Axis deer">

      </article>

    </div>
    <div class="popup-overlay" id="popup">
      <div class="popup-content">
        <span class="close-btn" onclick="closePopup()">×</span>
        <h2>Edit Content</h2>
        <ul id="topicsedit"></ul>
        <div id="paragrapghedit"></div>
        <button onclick="saveChanges()">Save Changes</button>
      </div>
    </div>
  
    <button id="editButton" onclick="openPopup()" style="position: fixed; bottom: 20px; right: 20px;">Edit</button>
  

  </body>

  <script>
//creating the structre of the data object
const wildlife ={
    maintitle: '',
    intro: '',
    
    topic1: '',
    description1: '',

    topic2: '',
    description2: '',

    list1: [],

    topic3: '',
    description3: '',

    list3: [],

    topic4: '',
    description4: '',
    
    topic5: '',
    description5z: '',
    
   



};
//fetch the json data 
fetch('Wild.json')
    .then(response => response.json())
    .then(data => {
      wildlife.maintitle= data.maintitle;
      wildlife.intro = data.intro;

      wildlife.topic1 = data.topic1;
      wildlife.description1=data.description1
      wildlife.list1=data.list1

      wildlife.topic2 = data.topic2;
      wildlife.description2=data.description2
      wildlife.list2=data.list2


      wildlife.topic3 = data.topic3;
      wildlife.description3=data.description3;
      wildlife.list3=data.list3

      wildlife.topic4 = data.topic4;
      wildlife.description4=data.description4;
      wildlife.list4=data.list4

      wildlife.topic5 = data.topic5;
      wildlife.description5=data.description5;
      wildlife.list5=data.list5
      
   
    
      localStorage.setItem('wild2',JSON.stringify(data));


    })
    .catch(error =>console.error('Error fetching data:',error));
    function isAdmin() {
            var loggedInUser = localStorage.getItem("loggedInUser");
            return loggedInUser === "admin"; // Change this to the admin username
        }

        // Function to toggle the visibility of the edit button based on admin status
        function toggleEditButtonVisibility() {
            var editButton = document.getElementById("editButton");
            editButton.style.display = isAdmin() ? "block" : "none";
        }

        // Call the function to toggle edit button visibility
        toggleEditButtonVisibility();
      

   


</script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="Login.js"></script>

  <footer>
    <!-- Department of Wildlife Conservation – We Protect Future!. https://www.dwc.gov.lk/.
 Department of Wildlife Conservation – Ministry of Wildlife and Forest .... https://www.mwfc.gov.lk/department-of-wildlife-conservation/.
 Wildlife Circuit Bungalows Reservation eService. https://dwc.lankagate.gov.lk/.
(4) en.wikipedia.org. https://en.wikipedia.org/wiki/Department_of_Wildlife_Conservation_(Sri_Lanka).
 Horton Plains National Park. http://www.dwc.gov.lk/Aoldsite/library/Np_Hotonplains.html.
 Horton Plains National Park. https://overatours.com/ramayana-tours-sri-lanka/dolukanda/.-->
    <section class="footer">
      <section class="row">
        <a href="#"><i class="fa fa-facebook"></i></a>
        <a href="#"><i class="fa fa-instagram"></i></a>
        <a href="#"><i class="fa fa-youtube"></i></a>
        <a href="#"><i class="fa fa-twitter"></i></a>
      </section>

      <section class="row">
        <ul>
          <li><a href="Contact_Us.html">Login</a></li>
          <li><a href="index.html">Home</a></li>
          <li><a href="Destinations.html">Destinations</a></li>
          <section class="footer-newsletter">
            <br>
            <form onsubmit="storeNewsLetter(); return false;" class="newsletter-form">
              <input type="email" id="newsLet" placeholder="subscribe to our NewsLetter" required>
              <button type="submit"> Subscribe</button>
    
          </form>
          </section>

        </ul>
      </section>

      <section class="row">
        Wild Life Wonders Copyright © 2023 WLW - All rights reserved || Designed
        By: CB014172 Dulith
      </section>
    </section>
  </footer>
  <script>
  
    function openPopup() {
      var popup = document.getElementById("popup");
      popup.style.display = "block";

      

      // Fetch and display paragraphs
      var paragrapghedit = document.getElementById("paragrapghedit");
      var paragraphs = document.querySelectorAll("p,h2,ul,ol");
      paragraphs.forEach(function (paragraph) {
        var editableParagraph = document.createElement("div");
        editableParagraph.contentEditable = true;
        editableParagraph.textContent = paragraph.textContent;
        paragrapghedit.appendChild(editableParagraph);
        paragrapghedit.appendChild(document.createElement("br")); // Add a line break
      });
    }

    function closePopup() {
      var popup = document.getElementById("popup");
      popup.style.display = "none";
      document.getElementById("paragrapghedit").innerHTML = ""; // Clear paragraphs list
    }

    function saveChanges() {
      // Update the content of paragraphs on the main page
      var editedParagraphs = document.querySelectorAll("#paragrapghedit div");
      var paragraphs = document.querySelectorAll("p,h2,ul,ol");
      editedParagraphs.forEach(function (editedParagraph, index) {
        paragraphs[index].textContent = editedParagraph.textContent;
      });

      // Close the popup
      //closePopup();
    }
    function closePopup() {
      var popup = document.getElementById("popup");
      popup.style.display = "none";
      document.getElementById("paragrapghedit").innerHTML = ""; // Clear paragraphs list
    }

    function saveChanges() {
      // Update the content of paragraphs on the main page
      var editedParagraphs = document.querySelectorAll("#paragrapghedit div");
      var paragraphs = document.querySelectorAll("p,h2,ul,ol");
      editedParagraphs.forEach(function (editedParagraph, index) {
        paragraphs[index].textContent = editedParagraph.textContent;
      });

      // Close the popup
      closePopup();
    }

    function editListItem(index, newValue) {
      var listItems = document.querySelectorAll("ul li, ol li");
      listItems[index].textContent = newValue;
    }

    function saveToLocalStorage(key, value) {
      localStorage.setItem(key, value);
    }




  </script>
</html>
